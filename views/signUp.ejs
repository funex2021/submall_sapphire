<!DOCTYPE html>
<html lang="ko">
<head>
    <%- include('includes/cdn') %>
    <title><%=config.found_text%> | signUp</title>
</head>
<body class="@@dashboard">
<div class="body-bg" style="background-image:url('/images/body-bg.jpg')">
    <!-- NFTMax Welcome -->
    <section class="nftmax-wc nftmax-wc__full">
        <div class="container-fluid">
            <div class="row g-0">
                <div class="col-xxl-6 col-lg-6 col-12 nftmax-hidden-rp">
                    <div class="nftmax-wc__inner nft-gr-primary">
                        <!-- Logo -->
                        <div class="nftmax-wc__logo">
                            <a href="/p/buyview"><img src="/images/cnft_logo-removebg-preview.png" alt="#"></a>
                        </div>
                        <!-- Middle Image -->
                        <div class="nftmax-wc__middle">
                            <a href="/p/buyview"><img src="/images/ikonbit.png" alt="#"></a>
                        </div>
                        <!-- Welcome Heading -->
                        <div class="nftmax-wc__heading">
                            <h2 class="nftmax-wc__title">Welcome to IKONBIT <br> CNFT</h2>
                        </div>

                    </div>
                </div>
                <div class="col-xxl-6 col-lg-6 col-12">
                    <!-- Welcome Form -->
                    <div class="nftmax-wc__form" id="login-form">
                        <div class="nftmax-wc__form-inner">
                            <div class="nftmax-wc__heading">
                                <h3 class="nftmax-wc__form-title nftmax-wc__form-title__one" style="background-image:url('/images/heading-vector.png')">Sign Up</h3>
                            </div>
                            <!-- Sign in Form -->
                            <div class="nftmax-wc__form-main">
                                <div class="form-group">
                                    <label class="nftmax-wc__form-label">ID</label>
                                    <div class="form-group__input">
                                        <input class="nftmax-wc__form-input" type="text" name="login-form-username" id="id" value="" placeholder="<%=config.login_text%>" maxlength="20" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="nftmax-wc__form-label">Password</label>
                                    <div class="form-group__input">
                                        <input class="nftmax-wc__form-input" name="login-form-password" id="password" type="password"  placeholder="<%=config.pwd_text%>" maxlength="50" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="nftmax-wc__form-label">이메일</label>
                                    <div class="form-group__input">
                                        <input class="nftmax-wc__form-input" type="text" name="login-form-username" id="email" value="" placeholder="이메일을 입력해주세요." maxlength="50"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="nftmax-wc__form-label">이름</label>
                                    <div class="form-group__input">
                                        <input class="nftmax-wc__form-input" type="text" name="login-form-username" id="name" value="" placeholder="이름을 입력해주세요."  maxlength="15" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="nftmax-wc__form-label">전화번호</label>
                                    <div class="form-group__input">
                                        <input class="nftmax-wc__form-input" type="text" name="login-form-username" id="hp" value="" placeholder="전화번호를 입력해주세요."  onkeyup="numCheck(this);" maxlength="15" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="nftmax-wc__form-label">핀번호</label>
                                    <div class="form-group__input">
                                        <input class="nftmax-wc__form-input" type="password" name="login-form-username" id="pin" value="" placeholder="핀번호를 입력해주세요."  onkeyup="numCheck(this);" maxlength="4" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="nftmax-wc__check-inline">
                                        <div class="nftmax-wc__checkbox">
                                            <input class="nftmax-wc__form-check" id="agreeYn" name="checkbox" type="checkbox">
                                            <label for="checkbox"><a href="javascript:void(0);" onclick="fnAgreePop();" style="text-decoration: underline;">[이용약관]</a>에 동의</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="nftmax-wc__button">
                                        <button class="ntfmax-wc__btn" onclick="signUp()">회원가입</button>
                                        <button class="ntfmax-wc__btn ntfmax-wc__btn-google" onclick="location.href='/login'">취소</button>
                                    </div>
                                </div>
                            </div>
                            <!-- End Sign in Form -->
                        </div>
                    </div>
                    <!-- End Welcome Form -->
                </div>
            </div>
        </div>
    </section>
    <!-- End NFTMax Welcome -->

</div>
</body>
<%- include('includes/modal') %>
</html>
<script>
    function signUp() {
        if ($("#id").val() == '') {
            return fnAlertModal('아이디를 입력해 주세요.');
        }
        if ($("#email").val() == '') {
            return fnAlertModal('이메일을 입력해 주세요.');
        } else {
            let filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
            if (!filter.test($("#email").val())) {
                return fnAlertModal('이메일 형식을 확인해 주세요.');
            }
        }

        if ($("#password").val() == '') {
            return fnAlertModal('비밀번호를 입력해 주세요.');
        }

        if ($("#name").val() == '') {
            return fnAlertModal('이름를 입력해 주세요.');
        }

        if ($("#hp").val() == '' ) {
            return fnAlertModal('핸드폰 번호를 입력해주세요.');
        }

        if ($("#pin").val() == '' ) {
            return fnAlertModal('핀 번호를 입력해주세요.');
        }else if($("#pin").val().length != 4){
            return fnAlertModal('핀 번호는 4자리로 입력해주세요.');
        }

        if(!$('#agreeYn').is(':checked')){
            return fnAlertModal('이용약관에 동의해주세요.');
        }

        wrapWindowByMaskShow();

        let data = {
            id: $("#id").val(),
            email : $("#email").val(),
            password: $("#password").val(),
            name: $("#name").val(),
            hp: $("#hp").val(),
            pin : $("#pin").val(),
        }

        $.ajax({
            url: '/m/signUpProc',
            dataType: 'json',
            type: 'POST',
            data: data,
            success: function (result) {
                wrapWindowByMaskHide();
                if (result.success) {
                    fnRedirectModal(result.message, '/login');
                } else {
                    fnAlertModal(result.message);
                }
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                wrapWindowByMaskHide();
                fnAlertModal('회원가입시 문제가 발생하였습니다.');
            } //function끝
        });
    }

    function numCheck(obj) {
        var num = obj.value;
        obj.value = num.replace(/[^0-9]/g, "");
        obj.focus();
    }

    function passChk() {
        var pattern1 = /[0-9]/;
        var pattern2 = /[a-zA-Z]/;
        var pw = $("#password").val();
        var pattern3 = /[~!@\#$%<>^&*]/;

        if (!pattern1.test(pw) || !pattern2.test(pw) || !pattern3.test(pw) || pw.length<8 || pw.length>50){
            fnAlertModal("영문+숫자+특수기호 8자리 이상으로 구성하여야 합니다.");
            return false;
        } else {
            return true;
        }
    }

    function fnAgreePop(){
        let html = '';
        html += '        <h3 class="nftmax-ptabs__page-title">1. Definitions</h3>';
        html += '        <p>';
        html += '            What you do own when you buy an NFT are the keys to a non-fungible – perhaps unique – token. That token is yours to trade or hold or display in Decentraland.';
        html += '            But the digital file associated with an NFT is just as easy to copy and paste and download as any other – the Finally,';
        html += '            players lose their NFTs sometimes according to the rules and regulations of the NFT game.';
        html += '        </p>';
        html += '        <h3 class="nftmax-ptabs__page-title">2. Acceptance</h3>';
        html += '        <p>';
        html += '            Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet sint.';
        html += '            Velit officia consequat duis enim velit mollit.';
        html += '            Exercitation veniam consequat sunt nostrud amet.Capacity.';
        html += '            You confirm that you have the legal capacity to receive and hold and make use of the NFT under French jurisdiction and any other relevant jurisdiction.Acceptance.';
        html += '            By participating in the Sale, You accept and agree to these Terms and Conditions without any condition or restriction.';
        html += '            If You do not agree to this Contract, You shall not participate in the Sale made by the Company Exercitation veniam consequat sunt nostrud amet.Capacity.';
        html += '            You confirm that you have the legal capacity to receive and hold find to end.Contract, You shall not participate in the Sale made by the Company Exercitation venia';
        html += '        </p>';
        html += '        <blockquote>';
        html += '            These Terms and Conditions are related to the sale of NFTs by the Company (the “Company”) on its Website.';
        html += '            It solely governs the contractual relationship between You and the Company regarding the Sale and any related contract.';
        html += '        </blockquote>';
        html += '        <h3 class="nftmax-ptabs__page-title">3. The Sale</h3>';
        html += '        <p>';
        html += '            The Company offers NFTs featuring the Betonyou universe.';
        html += '            The holders of one or more NFTs will be able to win cryptos while playing video games.';
        html += '            In the future, the Company plans to develop its own games and Metaverse around the Betonyou universe (“Project”).';
        html += '        </p>';
        html += '        <p>';
        html += '            To release the NFTs and fund the project, the Company offers NFTs from a dedicated website("Sale").';
        html += '            The web address of this website will be given at the time of the mint.';
        html += '            The NFT acquisition does not confer any rights on the Company or in the future development.';
        html += '        </p>';
        html += '        <h3 class="nftmax-ptabs__page-title">4. Purchaser’s obligations</h3>';
        html += '        <p>To the fullest extent permitted by applicable law, You undertake to indemnify, defend and hold harmless the Company from and against all claims, demands, actions, damages, losses, costs and expenses (including attorneys’ fees) that arise from or relate to (i) your Subscription or use of the NFTs; (ii) your responsibilities or obligations under this Contract; and (iii) your breach of this Contract.</p>';
        html += '        <p> Company undertakes to act with the care normally expected from a professional in his field and to comply with the best practice in force. The best endeavor obligation only binds the Company.</p>';


        Swal.fire({
            html:html
            ,
            heightAuto: false,
            showCloseButton: true,
            animation: false
        }).then((result) => {
        });



    }
</script>
<style>
    .nftmax-wc__form-main input{
        height: 42px;
    }
    .nftmax-wc__button .ntfmax-wc__btn{
        height: 48px;
    }
    .nftmax-wc__button{
        gap: 15px;
    }
</style>

